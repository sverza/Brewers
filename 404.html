<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>404 ‚Äî Work in Progress | Brewers</title>
<meta name="color-scheme" content="dark only" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Chakra+Petch:wght@600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg-1:#05070d;
    --bg-2:#0a1730;
    --accent:#1fb6ff;
    --accent-2:#00d4ff;
    --txt:#d7eaff;
    --muted:#8aa6c1;
    --warning:#f5a623;
    --header-h: 64px; /* fallback, aggiornato a runtime */
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    color:var(--txt);
    background:
      radial-gradient(1200px 600px at 80% -10%, #0d2b4f22, transparent 60%),
      radial-gradient(800px 500px at 0% 100%, #08204055, transparent 60%),
      linear-gradient(180deg,var(--bg-1),var(--bg-2));
    font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji', sans-serif;
    display:flex; flex-direction:column;
    min-height:100dvh;
  }

  /* Header/Footer placeholders keep natural document flow */
  #header-placeholder, #footer-placeholder{width:100%}

  /* Animated grid (behind content) */
  .grid{
    position:fixed; inset:0; pointer-events:none; opacity:.16; z-index:0;
    background:
      linear-gradient(transparent 31px, #ffffff0f 32px),
      linear-gradient(90deg, transparent 31px, #ffffff12 32px);
    background-size:32px 32px;
    transform: perspective(800px) rotateX(55deg) translateY(-15%);
    animation: drift 14s linear infinite;
  }
  @keyframes drift {
    from { background-position: 0 0, 0 0; }
    to   { background-position: 0 64px, 64px 0; }
  }

  .wrap{
    position:relative; z-index:1;
    width:min(1100px, 92vw);
    text-align:center;
    margin: calc(var(--header-h) + 18px) auto 40px; /* evita sovrapposizione con header */
    padding: 6vh 0 6vh;
  }

  /* Caution tape allineata sotto l'header */
  .tape{
    --stripe-a:#101a2a; --stripe-b:#173557;
    position:fixed; left:-5vw; right:-5vw; top: calc(var(--header-h) + 6px);
    height:48px; transform: rotate(-3.5deg);
    background:
      repeating-linear-gradient(45deg,
        var(--stripe-a) 0 28px,
        var(--stripe-b) 28px 56px);
    border:2px solid #1a3354;
    box-shadow: 0 10px 20px #0006, inset 0 0 0 1px #ffffff08;
    display:flex; align-items:center; justify-content:center;
    font-weight:800; letter-spacing:.14em;
    text-transform:uppercase; font-size:12px; color:#c8e7ffcc;
    text-shadow:0 1px 0 #0009;
    overflow:hidden; z-index:1;
  }
  .tape::after{
    content:"ATTENZIONE ‚Ä¢ AREA DI LAVORO ‚Ä¢ ATTENZIONE ‚Ä¢ AREA DI LAVORO ‚Ä¢ ";
    animation: marquee 8s linear infinite;
    white-space:nowrap;
  }
  @keyframes marquee { to { transform: translateX(-50%);} }

  /* 404 badge */
  .code{
    display:inline-flex; gap:.6rem; align-items:center; justify-content:center;
    margin-top:72px;
    font: 900 clamp(28px, 6vw, 64px)/1 'Chakra Petch', monospace;
    letter-spacing:.06em;
    color:#e5f3ff;
    text-shadow: 0 0 12px #2da8ff66, 0 0 28px #2da8ff44;
    filter: drop-shadow(0 2px 0 #0008);
  }
  .code .badge{
    padding:.24em .6em; border-radius:.5rem;
    background: linear-gradient(180deg, #0a2850, #04101f);
    border:1px solid #2b5e91; box-shadow: inset 0 0 20px #0a3764aa;
  }
  .code .sep{opacity:.45}

  /* WIP headline */
  .headline{
    margin: 18px 0 8px;
    font: 900 clamp(36px, 8vw, 96px)/1.02 'Chakra Petch', sans-serif;
    letter-spacing:.04em;
    --stripe: repeating-linear-gradient(105deg,
      var(--accent) 0 12px,
      var(--accent-2) 12px 24px,
      #0e1b2e 24px 40px);
    background: var(--stripe);
    -webkit-background-clip:text; background-clip:text;
    color: transparent;
    animation: slideFill 2.2s linear infinite;
    text-shadow: 0 0 24px #00c8ff33, 0 2px 0 #0007;
  }
  @keyframes slideFill { to { background-position: 160px 0; } }

  .desc{
    font-size: clamp(14px, 2.2vw, 18px);
    color: var(--muted);
    margin-bottom: 26px;
  }

  /* Lamp */
  .lamp{
    width: clamp(42px, 7vw, 64px);
    margin: 10px auto 22px;
    animation: blink 1.4s ease-in-out infinite;
    filter: drop-shadow(0 0 22px #ffbf42aa);
  }
  @keyframes blink{ 0%,100%{opacity:.4; transform: translateY(0)} 50%{opacity:1; transform: translateY(-2px)} }

  /* Particles */
  .particles{ position: fixed; inset:0; pointer-events:none; overflow:hidden; z-index:0; }
  .dot{
    position:absolute; width:3px; height:3px; border-radius:50%;
    background: #6dd3ff; opacity:.55;
    animation: float var(--t) linear infinite;
    transform: translate3d(0,0,0);
  }
  @keyframes float {
    from { transform: translateY(110vh) translateX(var(--x)); }
    to   { transform: translateY(-10vh) translateX(calc(var(--x) + var(--dx))); }
  }

  /* Actions */
  .actions{display:flex; gap:12px; justify-content:center; flex-wrap:wrap}
  .btn{
    appearance:none; border:none; cursor:pointer;
    padding:14px 20px; border-radius:14px;
    font: 800 14px/1 'Montserrat', sans-serif; letter-spacing:.06em;
    color:#03101f; background: linear-gradient(180deg,#25c8ff,#1aa8e9);
    box-shadow: 0 10px 24px #0ab7ff33, inset 0 -2px 0 #067fb8;
    transition: transform .15s ease, filter .2s ease;
    text-decoration:none; display:inline-flex; align-items:center; gap:10px;
  }
  .btn:hover{ transform: translateY(-2px); filter: brightness(1.05) }
  .btn:active{ transform: translateY(0); filter: brightness(.98) }
  .btn.secondary{
    background: linear-gradient(180deg,#172a44,#0b182b);
    color:#cfe9ff; box-shadow: inset 0 -2px 0 #061324, 0 6px 16px #0009;
    border:1px solid #2a4b74;
  }

  /* Mobile tweaks */
  @media (max-width: 540px){
    .tape{ height:44px; transform: rotate(-2.8deg); }
    .wrap{ margin: calc(var(--header-h) + 10px) auto 28px; padding: 5vh 0; }
  }
  @media (prefers-reduced-motion: reduce){
    .grid, .headline, .tape::after, .lamp, .dot { animation: none !important; }
  }
</style>
</head>
<body>
  <!-- Header dinamico -->
  <div id="header-placeholder" role="banner" aria-label="Header"></div>

  <div class="grid" aria-hidden="true"></div>
  <div class="tape" aria-hidden="true"></div>

  <main class="wrap" role="main" aria-labelledby="wip">
    <div class="code" aria-hidden="true">
      <span class="badge">4</span><span class="sep">/</span><span class="badge">0</span><span class="sep">/</span><span class="badge">4</span>
    </div>

    <!-- Lamp SVG -->
    <svg class="lamp" viewBox="0 0 64 64" aria-hidden="true">
      <defs>
        <radialGradient id="g" cx="50%" cy="45%" r="60%">
          <stop offset="0%" stop-color="#fff4c4"/>
          <stop offset="60%" stop-color="#ffd263"/>
          <stop offset="100%" stop-color="#f5a623"/>
        </radialGradient>
      </defs>
      <circle cx="32" cy="22" r="12" fill="url(#g)" stroke="#7a4b00" stroke-width="2"/>
      <rect x="22" y="34" width="20" height="12" rx="3" fill="#1c2b3e" stroke="#2e4767"/>
      <rect x="18" y="46" width="28" height="10" rx="2" fill="#0f1d2e" stroke="#2a4161"/>
    </svg>

    <h1 id="wip" class="headline" aria-label="Work in progress">WORK IN PROGRESS</h1>
    <p class="desc">La pagina che cerchi non esiste (ancora). Ci stiamo lavorando! üõ†Ô∏è</p>

    <div class="actions">
      <a class="btn" href="/" aria-label="Torna alla Home">üè† Torna alla Home</a>
      <a class="btn secondary" href="mailto:info@brewers.example?subject=Segnalazione%20404"
         aria-label="Segnala questo errore via email">‚úâÔ∏è Segnala il problema</a>
    </div>
  </main>

  <div class="particles" aria-hidden="true" id="particles"></div>

  <!-- Footer dinamico -->
  <div id="footer-placeholder" role="contentinfo" aria-label="Footer"></div>

<script>
/* === CONFIG: sostituisci con i tuoi path === */
const HEADER_URL = '/partials/header.html';   // Esempio: 'https://raw.githubusercontent.com/.../header.html'
const FOOTER_URL = '/partials/footer.html';   // Esempio: 'https://raw.githubusercontent.com/.../footer.html'

/* Inject di header e footer + misurazione altezza header */
async function loadFragment(url, targetId){
  try{
    const res = await fetch(url, {cache:'no-store'});
    if(!res.ok) throw new Error(`${res.status} ${res.statusText}`);
    const html = await res.text();
    document.getElementById(targetId).innerHTML = html;
  }catch(err){
    console.warn('Impossibile caricare', url, err);
  }
}

function updateHeaderHeight(){
  const header = document.querySelector('#header-placeholder');
  if(!header) return;
  const h = Math.max(header.offsetHeight || 0, 56);
  document.documentElement.style.setProperty('--header-h', h + 'px');
}

/* Mobile menu handler (se esistono gli elementi nel tuo header) */
function initMobileMenu(){
  const toggle = document.querySelector('#menu-toggle, .menu-toggle, .basketball-toggle');
  const menu = document.querySelector('#mobile-menu, .mobile-menu, .side-panel');
  const overlay = document.querySelector('#menu-overlay, .menu-overlay');

  if(!toggle || !menu) return;

  const open = ()=>{ menu.classList.add('open'); overlay && overlay.classList.add('show'); document.body.style.overflow='hidden'; };
  const close = ()=>{ menu.classList.remove('open'); overlay && overlay.classList.remove('show'); document.body.style.overflow=''; };

  toggle.addEventListener('click', (e)=>{ e.preventDefault(); menu.classList.contains('open') ? close() : open(); });

  /* chiusura cliccando fuori / su overlay */
  document.addEventListener('click', (e)=>{
    if(!menu.classList.contains('open')) return;
    const clickInside = menu.contains(e.target) || (toggle.contains(e.target));
    if(!clickInside) close();
  });

  overlay && overlay.addEventListener('click', close);
  window.addEventListener('resize', close);
}

/* Particelle */
(function(){
  const n = Math.min(80, Math.round(innerWidth/12));
  const cont = document.getElementById('particles');
  const rnd = (a,b)=>Math.random()*(b-a)+a;
  for(let i=0;i<n;i++){
    const d=document.createElement('span');
    d.className='dot';
    const x = rnd(-40, innerWidth+40);
    d.style.setProperty('--x', x+'px');
    d.style.setProperty('--dx', rnd(-60,60)+'px');
    d.style.left = rnd(-2, 102) + 'vw';
    d.style.animationDelay = (-rnd(0, 6)) + 's';
    d.style.setProperty('--t', rnd(6, 12)+'s');
    cont.appendChild(d);
  }
})();

/* Optional: auto-redirect dopo 10s (commenta se non ti serve) */
// setTimeout(()=>{ window.location.href = '/'; }, 10000);

fetch('https://raw.githubusercontent.com/sverza/Brewers/main/widget/brewers_header.html')
      .then(response => {
        if (!response.ok) throw new Error('Errore nel caricamento dell header');
        return response.text();
      })
      .then(data => {
        document.getElementById('header-container').innerHTML = data;

        const icon = document.getElementById("menu-icon");
        const iconFixed = document.getElementById("menu-icon-fixed");
        const menu = document.getElementById("brewers-menu");
        const overlay = document.getElementById("menu-overlay");

        function toggleMenu() {
          const isOpening = !menu.classList.contains("open");
          menu.classList.toggle("open");
          overlay.classList.toggle("active");

          icon.classList.add("bounce");
          iconFixed.classList.add("bounce");

          setTimeout(() => {
            icon.classList.remove("bounce");
            iconFixed.classList.remove("bounce");
          }, 500);

          if (isOpening) {
            setTimeout(() => {
              iconFixed.style.display = "block";
            }, 300);
          } else {
            iconFixed.style.display = "none";
          }
        }

        icon.addEventListener("click", toggleMenu);
        iconFixed.addEventListener("click", toggleMenu);
        overlay.addEventListener("click", () => {
          menu.classList.remove("open");
          overlay.classList.remove("active");
          iconFixed.style.display = "none";
        });
      })
      .catch(error => console.error('Errore:', error));

    // Carica footer
    fetch('https://raw.githubusercontent.com/sverza/Brewers/main/widget/brewers_footer.html')
      .then(response => {
        if (!response.ok) throw new Error('Errore nel caricamento del footer');
        return response.text();
      })
      .then(data => {
        document.getElementById('footer-container').innerHTML = data;
      })
      .catch(error => console.error('Errore:', error));
</script>
</body>
</html>
